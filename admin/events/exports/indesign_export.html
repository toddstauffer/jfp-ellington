<ASCII-MAC>
    <Version:7><FeatureSet:InDesign-Roman><ColorTable:=<Paper:COLOR:CMYK:Process:0,0,0,0><Black:COLOR:CMYK:Process:0,0,0,1>>
        <DefineParaStyle:Events Category=<Nextstyle:Events Category><cColor:Paper><cTypeface:Extra Black Condensed><cCase:All Caps><pSpaceAfter:1.800000><cFont:Futura BT><pRuleAboveColor:Black><pRuleAboveStroke:11.000000><pRuleAboveTint:100.000000><pRuleAboveOffset:-1.080000><pRuleBelowColor:Paper><pRuleAboveOn:1><pTextAlignment:Center><bulFont:\<TextFont\>><bulTypeFace:\<TextStyle\>>>
            <DefineParaStyle:Events Text=<Nextstyle:Events Text><cSize:8.500000><cLigatures:0><cTracking:-35><cBaselineShift:-0.000000><pHyphenationLadderLimit:0><pLeftIndent:3.600000><pFirstLineIndent:-3.600000><pAutoLeadPercent:1.204986><pMinCharBeforeHyphen:3><pHyphenationZone:0.000000><pSpaceBefore:3.600000><pTabRuler:144\,Right\,.\,0\, \;><cFont:Adobe Garamond><pDesiredWordSpace:1.100006><pMaxWordSpace:2.500000><pMinWordSpace:0.850006><pMaxLetterspace:0.039993><cHang:Baseline><pRuleAboveColor:None><pRuleAboveStroke:0.000000><pRuleAboveTint:0.000000><pRuleAboveLeftIndent:6.479995><pRuleAboveRightIndent:3.600006><pRuleBelowColor:None><pRuleBelowStroke:0.000000><pRuleBelowTint:0.000000><pRuleBelowLeftIndent:6.479995><pRuleBelowRightIndent:3.600006><bulFont:\<TextFont\>><bulTypeFace:\<TextStyle\>>>
                <DefineParaStyle:Events Bullets=<BasedOn:Events Text><Nextstyle:Events Bullets><pLeftIndent:10.000000><pFirstLineIndent:-6.000000><pSpaceBefore:1.440000><bulFont:\<TextFont\>><bulTypeFace:\<TextStyle\>>>
                    
{% load indesign events generic_content metadata content%}{% with first_event=event_list|first %}{% with first_date=first_event.event_date|date:"Y-m-d" %}{% with last_event=event_list|last %}{% with last_date=last_event.event_date|date:"Y-m-d" %}
    
    {% get_events as category_list_jfp category_slug "jfp-sponsored-events" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_jfp|length > 0 %}<ParaStyle:Events Category>JFP Sponsored Events
        {% regroup category_list_jfp by event.get_place_name as event_list_by_place_jfp %}{% for place in event_list_by_place_jfp %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}
            <cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}
                <ParaStyle:Events Bullets><0x2022><0x202F>
                    <cTypeface:Bold>{{ object.event.title }}
                        <cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}
                <ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}
                    <cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}
                    <ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}
                        <cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_holiday category_slug "holiday" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_holiday|length > 0 %}<ParaStyle:Events Category>Holiday
        {% regroup category_list_holiday by event.get_place_name as event_list_by_place_holiday %}{% for place in event_list_by_place_holiday %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}
        <ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}
            <cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}
            <ParaStyle:Events Bullets><0x2022><0x202F>
                <cTypeface:Bold>{{ object.event.title }}
                    <cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}
            <ParaStyle:Events Text>
                <cTypeface:Bold>{{ object.event.title }}
                    <cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_community category_slug "community" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_community|length > 0 %}<ParaStyle:Events Category>Community{% regroup category_list_community by event.get_place_name as event_list_by_place_community %}{% for place in event_list_by_place_community %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_wellness category_slug "wellness" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_wellness|length > 0 %}<ParaStyle:Events Category>Wellness{% regroup category_list_wellness by event.get_place_name as event_list_by_place_wellness %}{% for place in event_list_by_place_wellness %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_stage category_slug "stage-and-screen" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_stage|length > 0 %}<ParaStyle:Events Category>Stage and Screen{% regroup category_list_stage by event.get_place_name as event_list_by_place_stage %}{% for place in event_list_by_place_stage %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_music category_slug "other_music" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_music|length > 0 %}<ParaStyle:Events Category>Music{% regroup category_list_music by event.get_place_name as event_list_by_place_music %}{% for place in event_list_by_place_music %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_literary category_slug "literary-and-signings" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_literary|length > 0 %}<ParaStyle:Events Category>Literary and Signings{% regroup category_list_literary by event.get_place_name as event_list_by_place_literary %}{% for place in event_list_by_place_literary %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_creative category_slug "creative-classes" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_creative|length > 0 %}
    <ParaStyle:Events Category>Creative Classes{% regroup category_list_creative by event.get_place_name as event_list_by_place_creative %}{% for place in event_list_by_place_creative %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_exhibits category_slug "exhibits-and-openings" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_exhibits|length > 0 %}<ParaStyle:Events Category>Exhibits and Openings{% regroup category_list_exhibits by event.get_place_name as event_list_by_place_exhibits %}{% for place in event_list_by_place_exhibits %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}
    {% get_events as category_list_be category_slug "be-change" start_date first_date limit 300 %}{# add end_date when bug is fixed #}{% if category_list_be|length > 0 %}<ParaStyle:Events Category>Be the Change{% regroup category_list_be by event.get_place_name as event_list_by_place_be %}{% for place in event_list_by_place_be %}{% with this_event=place.list|first %}{% if place.list|length > 1 and this_event.event.event_times.all|length != place.list|length %}<ParaStyle:Events Text><cTypeface:Bold>Events at {{ place.grouper }}<cTypeface:>{% with address=place.list|first %}{% if address.event.place.name %}at {{ address.event.place.name }}{% else %}{% if address.event.one_off_place %}at {{ address.event.one_off_place }}{% endif %}{% endif %}{% if address.event.place.address1 %}({{ address.event.place.address1 }}{% if address.event.place.address2 %}{{ address.event.place.address2 }}{% endif %}{% if address.event.place.city.city != 'Jackson' %}, {{ address.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{% endwith %}{% for object in place.list %}<ParaStyle:Events Bullets><0x2022><0x202F><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{{ object.event_date|date:"M d" }}, {{ object.get_time }}. {{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}.{% endif %}  {% endfor %}{% else %}{% if place.list|length > 1  and this_event.event.event_times.all|length == place.list|length %}{% for object in place.list %}{% if forloop.counter == 1 %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endif %}{% endfor %}{% else %}{% for object in place.list %}<ParaStyle:Events Text><cTypeface:Bold>{{ object.event.title }}<cTypeface:>{% if object.event.event_times.count > 1 %}{% with this_start_date=object.event.event_times.all|first %}{% with this_end_date=object.event.event_times.all|last %}{% ifequal this_start_date.start_date|date:"M" this_end_date.expire_date|date:"M" %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"d" }}{% else %}{{ this_start_date.start_date|date:"M d" }}-{{ this_end_date.expire_date|date:"M d" }}{% endifequal %}{% endwith %}{% endwith %}{% else %}{{ object.event_date|date:"M d" }}{% endif %}, {{ object.get_time }}{% if object.event.place.name %} at {{ object.event.place.name }}{% else %}{% if object.event.one_off_place %}at {{ object.event.one_off_place }}{% endif %}{% endif %}{% if object.event.place.address1 %}({{ object.event.place.address1 }}{% if object.event.place.address2 %}, {{ object.event.place.address2 }} {% endif %} {% if object.event.place.city.city != 'Jackson' %}, {{ object.event.place.city.city }}{% endif %}).{% else %}.{% endif %}{{ object.event.short_description }} {% if object.event|get_metadata:"descriptive_cost" %}{{ object.event|get_metadata:"descriptive_cost" }}{% else %}{% ifequal object.event.cost_high object.event.cost_low %}{% if object.event.cost_high == '0' %}Free{% else %}{% if object.event.cost_high %}${{ object.event.cost_high|floatformat }}{% else %}Cost varies{% endif %}{% endif %}{% else %}{% if object.event.cost_low == '0' %}Free-${{ object.event.cost_high|floatformat }}{% else %}${{ object.event.cost_low|floatformat }}-${{ object.event.cost_high|floatformat }}{% endif %}{% endifequal %}{% if object.event|get_metadata:"child_cost" %}, ${{ object.event|get_metadata:"child_cost" }} children{% endif %}{% if object.event|get_metadata:"student_cost" %}, ${{ object.event|get_metadata:"student_cost" }} students{% endif %}{% if object.event|get_metadata:"senior_cost" %}, ${{ object.event|get_metadata:"senior_cost" }} seniors{% endif %}{% if object.event|get_metadata:"member_cost" %}, ${{ object.event|get_metadata:"member_cost" }} members{% endif %}{% if object.event|get_metadata:"advance_cost" %}, ${{ object.event|get_metadata:"advance_cost" }} in advance{% endif %}{% if object.event|get_metadata:"book_cost" %}, ${{ object.event|get_metadata:"book_cost" }} book{% endif %}{% endif %}{% with phone1=object.event|get_metadata:"contact_phone" %}{% with phone2=object.event.place.get_phone_formatted %}{% with email1=object.event|get_metadata:"contact_email" %}{% with email2=object.event.place.email %}{% with link=object.event.related_links.all|first %}{% if phone1 or phone2 or email1 or email2 or link %}; {% else %}.{% endif %}{% if phone1 %}call {{ phone1 }}{% if email1 or email2 or link %}; {% else %}.{% endif %}{% else %}{% if phone2 %}call {{ phone2 }}{% if email1 or email2 or link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if email1 %}email {{ email1 }}{% if link %}; {% else %}. {% endif %}{% else %}{% if email2 %}email {{ email2 }}{% if link %}; {% else %}. {% endif %}{% endif %}{% endif %}{% if link %}{{ link.link_text }}.{% endif %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endwith %}{% endfor %}{% endif %}{% endif %}{% endwith %}{% endfor %}{% endif %}

        
        
{% endwith %}{% endwith %}
{% endwith %}{% endwith %}
                        

